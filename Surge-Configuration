[General]
ipv6 = false // 如无特殊需求不应开启 IPv6，目前网络环境下 IPv6 只会带来问题。
skip-proxy = 192.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 127.0.0.1, localhost, *.local
always-real-ip = *.lan, *.localdomain, *.example, *.invalid, *.localhost, *.test, *.local, *.home.arpa, time.*.com, time.*.gov, time.*.edu.cn, time.*.apple.com, time1.*.com, time2.*.com, time3.*.com, time4.*.com, time5.*.com, time6.*.com, time7.*.com, ntp.*.com, ntp1.*.com, ntp2.*.com, ntp3.*.com, ntp4.*.com, ntp5.*.com, ntp6.*.com, ntp7.*.com, *.time.edu.cn, *.ntp.org.cn, +.pool.ntp.org, time1.cloud.tencent.com, music.163.com, *.music.163.com, *.126.net, musicapi.taihe.com, music.taihe.com, songsearch.kugou.com, trackercdn.kugou.com, *.kuwo.cn, api-jooxtt.sanook.com, api.joox.com, joox.com, y.qq.com, *.y.qq.com, streamoc.music.tc.qq.com, mobileoc.music.tc.qq.com, isure.stream.qqmusic.qq.com, dl.stream.qqmusic.qq.com, aqqmusic.tc.qq.com, amobile.music.tc.qq.com, *.xiami.com, *.music.migu.cn, music.migu.cn, *.msftconnecttest.com, *.msftncsi.com, msftconnecttest.com, msftncsi.com, detectportal.firefox.com, resolver1.opendns.com, localhost.ptlogin2.qq.com, localhost.sec.qq.com, +.srv.nintendo.net, +.stun.playstation.net, xbox.*.microsoft.com, xbox.*.*.microsoft.com, xnotify.xboxlive.com, *.*.xboxlive.com, +.battlenet.com.cn, +.wotgame.cn, +.wggames.cn, +.wowsgame.cn, +.wargaming.net, proxy.golang.org, stun.*.*, stun.*.*.*, +.stun.*.*, +.stun.*.*.*, +.stun.*.*.*.*, heartbeat.belkin.com, *.linksys.com, *.linksyssmartwifi.com, *.router.asus.com, mesu.apple.com, swscan.apple.com, swquery.apple.com, swdownload.apple.com, swcdn.apple.com, swdist.apple.com, lens.l.google.com, stun.l.google.com, +.nflxvideo.net, *.square-enix.com, *.finalfantasyxiv.com, *.ffxiv.com, *.mcdn.bilivideo.cn, +.market.xiaomi.com, alt1-mtalk.google.com, alt2-mtalk.google.com, alt3-mtalk.google.com, alt4-mtalk.google.com, alt5-mtalk.google.com, alt6-mtalk.google.com, alt7-mtalk.google.com, alt8-mtalk.google.com, mtalk-dev.google.com, mtalk-staging.google.com, mtalk.google.com, mtalk4.google.com
always-raw-tcp-hosts = Mijia Cloud, dlg.io.mi.com, +.push.apple.com, +.apple.com, alt1-mtalk.google.com, alt2-mtalk.google.com, alt3-mtalk.google.com, alt4-mtalk.google.com, alt5-mtalk.google.com, alt6-mtalk.google.com, alt7-mtalk.google.com, alt8-mtalk.google.com, mtalk-dev.google.com, mtalk-staging.google.com, mtalk.google.com, mtalk4.google.com
exclude-simple-hostnames = true
udp-relay = true
test-timeout = 2
# internet-test-url = https://dns.alidns.com
# proxy-test-url = https://www.gstatic.com/generate_204
dns-server = 223.5.5.5, 223.6.6.6
encrypted-dns-server = h3://223.5.5.5/dns-query, h3://223.6.6.6/dns-query

[Proxy Group]
Proxy = select, "Minimum delay", "HK Nodes", "TW Nodes", "JP Nodes", "US Nodes", "SG Nodes", "UK Nodes", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)"
HK Nodes = select, hidden=0, include-all-proxies=0, policy-regex-filter=(?i)港|hk|hongkong|hong kong
TW Nodes = select, hidden=0, include-all-proxies=0, policy-regex-filter=(?i)台|tw|twn|taiwan
JP Nodes = select, hidden=0, include-all-proxies=0, policy-regex-filter=(?i)日本|jp|japan
US Nodes = select, hidden=0, include-all-proxies=0, policy-regex-filter=(?i)美|us|unitedstates|united states
SG Nodes = select, hidden=0, include-all-proxies=0, policy-regex-filter=(?i)新加坡|sg|Singapore
UK Nodes = select, hidden=0, include-all-proxies=0, policy-regex-filter=(?i)英国|uk|gbr
Minimum delay = url-test, hidden=0, include-all-proxies=0, policy-regex-filter=^(((?!剩余流量|remaining-traffic|套餐到期|plan-expired|提前用完买重置包|距离下次重置剩余|remaining-reset).))*$
Fallback = fallback, hidden=0, include-all-proxies=0, tolerance=20, interval=300, policy-regex-filter=^(((?!剩余流量|remaining-traffic|套餐到期|plan-expired|提前用完买重置包|距离下次重置剩余|remaining-reset).))*$
Load Balancing (Hashing) = load-balance, persistent=true, hidden=0, include-all-proxies=0, policy-regex-filter=^(((?!剩余流量|remaining-traffic|套餐到期|plan-expired|提前用完买重置包|距离下次重置剩余|remaining-reset).))*$
Load Balancing (Round Robin) = load-balance, persistent=false, hidden=0, include-all-proxies=0, policy-regex-filter=^(((?!剩余流量|remaining-traffic|套餐到期|plan-expired|提前用完买重置包|距离下次重置剩余|remaining-reset).))*$
Discord = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
Telegram = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
ChatGPT = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
Claude = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
Copilot = select, DIRECT, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)"
Gemini = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
Bilibili = select, DIRECT, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)"
Disney = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
DMM = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
Netflix = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
Niconico = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
Pixiv = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
Spotify = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
Twitch = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
Youtube = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
Z-Library = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
Bluesky = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
LINUX DO = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
Twitter = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
iCloud = select, DIRECT, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)"
OneDrive = select, DIRECT, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)"
Aliyun = select, DIRECT, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)"
Cloudflare = select, DIRECT, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)"
Docker = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
GitHub = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
GitLab = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
Apple = select, DIRECT, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)"
Google = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
Microsoft = select, DIRECT, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)"
Adobe Activation Service = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
AdBlock = select, REJECT, DIRECT, Proxy
Domestic = select, DIRECT, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)"
Game Boosting = select, DIRECT, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)"
Game Unlocking = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
Google FCM = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT
Others = select, DIRECT, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)"
Safe Browse = select, Proxy, "Minimum delay", Fallback, "Load Balancing (Hashing)", "Load Balancing (Round Robin)", DIRECT

[Rule]
# > adrules
RULE-SET,https://fastly.jsdelivr.net/gh/Cats-Team/AdRules@main/adrules.list,REJECT,pre-matching,extended-matching,"update-interval=86400"
# > lan
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Lan/Lan.list,DIRECT,"update-interval=86400"
# > blacklistrules-unlock_game
DOMAIN-SET,https://fastly.jsdelivr.net/gh/Xeknoz/blacklist-rules@main/Common/Unlock/Surge/BlockedGames_DomainOnly.list,"Game Unlocking","update-interval=86400"
# > blacklistrules-unlock_nogame
DOMAIN-SET,https://fastly.jsdelivr.net/gh/Xeknoz/blacklist-rules@main/Common/Unlock/Surge/BlockedDomains_NoGame_DomainOnly.list,Proxy,"update-interval=86400"
# > blacklistrules-security_domain
DOMAIN-SET,https://fastly.jsdelivr.net/gh/Xeknoz/blacklist-rules@main/Common/Security/Surge/AnonymityService_DomainOnly.list,"Safe Browse","update-interval=86400"
# > blacklistrules-security_process
RULE-SET,https://fastly.jsdelivr.net/gh/Xeknoz/blacklist-rules@main/Common/Security/Surge/AnonymityService_ProcessNameOnly.list,"Safe Browse","update-interval=86400"
# > blacklistrules-boost_game
DOMAIN-SET,https://fastly.jsdelivr.net/gh/Xeknoz/blacklist-rules@main/Common/Boost/Surge/SlowDomains_GameOnly_DomainOnly.list,"Game Boosting","update-interval=86400"
# > blacklistrules-boost_nogame
DOMAIN-SET,https://fastly.jsdelivr.net/gh/Xeknoz/blacklist-rules@main/Common/Boost/Surge/SlowDomains_NoGame_DomainOnly.list,Proxy,"update-interval=86400"
# > adobeactivation
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/AdobeActivation/AdobeActivation.list,"Adobe Activation Service","update-interval=86400"
# > googlefcm
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/GoogleFCM/GoogleFCM.list,"Google FCM","update-interval=86400"
# > z-library
RULE-SET,https://fastly.jsdelivr.net/gh/coderbean/geosite2surge@main/surge-rules/z-library.list,Z-Library,"update-interval=86400"
# > bluesky
DOMAIN-SET,https://fastly.jsdelivr.net/gh/Xeknoz/blacklist-rules@main/Other/Surge/Bluesky/Bluesky.list,Bluesky,"update-interval=86400"
# > twitter
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Twitter/Twitter.list,Twitter,"update-interval=86400"
# > anthropic
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Claude/Claude.list,Claude,"update-interval=86400"
# > openai
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/OpenAI/OpenAI.list,ChatGPT,"update-interval=86400"
# > copilot
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Copilot/Copilot.list,Copilot,"update-interval=86400"
# > github
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/GitHub/GitHub.list,GitHub,"update-interval=86400"
# > onedrive
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/OneDrive/OneDrive.list,OneDrive,"update-interval=86400"
# > microsoft
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Microsoft/Microsoft.list,Microsoft,"update-interval=86400"
# > discord
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Discord/Discord.list,Discord,"update-interval=86400"
# > docker
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Docker/Docker.list,Docker,"update-interval=86400"
# > icloud
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/iCloud/iCloud.list,iCloud,"update-interval=86400"
# > apple_domain
DOMAIN-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Apple/Apple_Domain.list,Apple,"update-interval=86400"
# > apple_classical
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Apple/Apple.list,Apple,"update-interval=86400"
# > youtube
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/YouTube/YouTube.list,Youtube,"update-interval=86400"
# > google
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Google/Google.list,Google,"update-interval=86400"
# > twitch
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Twitch/Twitch.list,Twitch,"update-interval=86400"
# > niconico
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Niconico/Niconico.list,Niconico,"update-interval=86400"
# > pixiv
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Pixiv/Pixiv.list,Pixiv,"update-interval=86400"
# > netflix
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Netflix/Netflix.list,Netflix,"update-interval=86400"
# > disney
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Disney/Disney.list,Disney,"update-interval=86400"
# > bilibili
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/BiliBili/BiliBili.list,Bilibili,"update-interval=86400"
# > spotify
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Spotify/Spotify.list,Spotify,"update-interval=86400"
# > dmm
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/DMM/DMM.list,DMM,"update-interval=86400"
# > telegram
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Telegram/Telegram.list,Telegram,"update-interval=86400"
# > gfw
DOMAIN-SET,https://fastly.jsdelivr.net/gh/Loyalsoldier/surge-rules@release/gfw.txt,Proxy,extended-matching,"update-interval=86400"
# > cn_domain
DOMAIN-SET,https://fastly.jsdelivr.net/gh/Loyalsoldier/surge-rules@release/direct.txt,Domestic,extended-matching,"update-interval=86400"
# > Domestic
GEOIP,CN,DIRECT,no-resolve
# > MATCH
FINAL,Others,dns-failed
